<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - TalentScope AI</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --d1000-yellow: #F7B500;
            --d1000-orange: #E85D2A;
            --d1000-green: #5CB85C;
            --d1000-blue: #0275D8;
            --d1000-dark: #2C3E50;
            --shadow-lg: 0 10px 40px rgba(0,0,0,0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #1d2b3a, #2C3E50);
            overflow: hidden;
            position: relative;
        }

        .background-shapes {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }

        .background-shapes div {
            position: absolute;
            display: block;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.05);
            bottom: -150px;
            animation: animate 25s linear infinite;
            border-radius: 8px;
        }
        .background-shapes div:nth-child(1) { left: 25%; width: 80px; height: 80px; animation-delay: 0s; }
        .background-shapes div:nth-child(2) { left: 10%; width: 20px; height: 20px; animation-delay: 2s; animation-duration: 12s; }
        .background-shapes div:nth-child(3) { left: 70%; width: 20px; height: 20px; animation-delay: 4s; }
        .background-shapes div:nth-child(4) { left: 40%; width: 60px; height: 60px; animation-delay: 0s; animation-duration: 18s; }
        .background-shapes div:nth-child(5) { left: 65%; width: 20px; height: 20px; animation-delay: 0s; }
        .background-shapes div:nth-child(6) { left: 75%; width: 110px; height: 110px; animation-delay: 3s; }
        .background-shapes div:nth-child(7) { left: 35%; width: 150px; height: 150px; animation-delay: 7s; }
        .background-shapes div:nth-child(8) { left: 50%; width: 25px; height: 25px; animation-delay: 15s; animation-duration: 45s; }
        .background-shapes div:nth-child(9) { left: 20%; width: 15px; height: 15px; animation-delay: 2s; animation-duration: 35s; }
        .background-shapes div:nth-child(10) { left: 85%; width: 150px; height: 150px; animation-delay: 0s; animation-duration: 11s; }

        @keyframes animate {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-120vh) rotate(720deg); opacity: 0; }
        }

        .login-container {
            position: relative;
            z-index: 1;
            display: flex;
            background: white;
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            width: 90%;
            height: 85vh;
            max-width: 1100px;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .brand-side {
            flex: 0 0 50%;
            background: linear-gradient(135deg, var(--d1000-dark), #1a252f);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 3rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .brand-side::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 15s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .brand-logo-container { 
            margin-bottom: 2rem; 
            z-index: 1;
        }
        
        .brand-logo-container img { 
            max-width: 250px; 
            height: auto;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3));
            transition: transform 0.3s ease;
        }

        .brand-logo-container img:hover {
            transform: scale(1.05);
        }

        .brand-text-container {
            z-index: 1;
        }

        .brand-side .slogan { 
            font-size: 2.2rem; 
            font-weight: 700; 
            line-height: 1.2; 
            margin-bottom: 1rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        .brand-side .subtitle { 
            font-size: 1.1rem; 
            opacity: 0.9; 
            max-width: 90%;
            line-height: 1.6;
        }

        .form-side {
            flex: 1;
            padding: 2rem 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            background: #fff;
            overflow-y: auto;
        }
        
        .agent-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .agent-header img {
            max-width: 140px;
            height: auto;
            border-radius: 50%;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            border: 4px solid #f8f9fa;
            transition: transform 0.3s ease;
        }

        .agent-header img:hover {
            transform: scale(1.05) rotate(5deg);
        }

        .form-header h2 { 
            font-size: 1.75rem; 
            color: var(--d1000-dark); 
            margin-bottom: 0.5rem; 
            font-weight: 700; 
        }
        
        .form-header p { 
            color: #6b7280; 
            font-size: 0.9rem; 
            margin-bottom: 1.5rem;
        }
        
        .form-group { 
            margin-bottom: 1.3rem; 
        }
        
        .form-label { 
            display: block; 
            margin-bottom: 0.5rem; 
            font-weight: 600; 
            color: var(--d1000-dark); 
            font-size: 0.875rem; 
        }
        
        .form-label i {
            margin-right: 0.3rem;
            color: var(--d1000-blue);
        }
        
        .input-icon { 
            position: relative; 
        }
        
        .input-icon i { 
            position: absolute; 
            left: 1rem; 
            top: 50%; 
            transform: translateY(-50%); 
            color: #9ca3af; 
            transition: color 0.2s ease;
            pointer-events: none;
        }
        
        .form-control { 
            width: 100%; 
            padding: 0.875rem 1rem 0.875rem 3rem; 
            border: 2px solid #e5e7eb; 
            border-radius: 8px; 
            font-size: 0.95rem; 
            transition: all 0.3s ease;
            background: #fafafa;
        }

        .form-control:hover {
            border-color: #d1d5db;
            background: #fff;
        }
        
        .form-control:focus { 
            outline: none; 
            border-color: var(--d1000-blue); 
            box-shadow: 0 0 0 3px rgba(2, 117, 216, 0.1);
            background: #fff;
        }
        
        .form-control:focus ~ i { 
            color: var(--d1000-blue); 
        }

        /* ðŸ†• Helper text */
        .text-muted {
            color: #6c757d;
            font-size: 0.8rem;
            display: block;
            margin-top: 0.3rem;
        }
        
        .btn-submit { 
            width: 100%; 
            padding: 1rem; 
            border: none; 
            border-radius: 8px; 
            background: linear-gradient(135deg, var(--d1000-blue), #0056b3); 
            color: white; 
            font-size: 1rem; 
            font-weight: 600; 
            cursor: pointer; 
            transition: all 0.3s ease; 
            box-shadow: 0 4px 12px rgba(2, 117, 216, 0.3); 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .btn-submit:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 6px 20px rgba(2, 117, 216, 0.4); 
        }

        .btn-submit:active {
            transform: translateY(0);
        }

        .btn-submit:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .form-footer { 
            margin-top: 1.5rem; 
            text-align: center; 
            font-size: 0.875rem;
            padding-top: 1rem;
            border-top: 1px solid #e5e7eb;
        }
        
        .form-footer a { 
            color: var(--d1000-blue); 
            text-decoration: none; 
            font-weight: 600;
            transition: color 0.2s ease;
        }
        
        .form-footer a:hover { 
            text-decoration: underline;
            color: #0056b3;
        }
        
        /* Alertas melhorados */
        .alert-danger, .alert-success, .alert-info, .alert-warning { 
            border-radius: 8px; 
            padding: 1rem; 
            margin-bottom: 1.5rem; 
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .alert-danger { 
            background-color: #fee; 
            color: #c33; 
            border: 1px solid #fcc; 
        }
        
        .alert-success { 
            background-color: #d4edda; 
            color: #155724; 
            border: 1px solid #c3e6cb; 
        }
        
        .alert-info { 
            background-color: #d1ecf1; 
            color: #0c5460; 
            border: 1px solid #bee5eb; 
        }

        .alert-warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeeba;
        }

        @media (max-width: 900px) {
            body { 
                align-items: flex-start; 
                background: #fff;
                padding: 0;
            }
            
            .login-container { 
                flex-direction: column; 
                height: auto; 
                width: 100%; 
                border-radius: 0; 
                box-shadow: none; 
            }
            
            .brand-side { 
                display: none; 
            }
            
            .form-side { 
                padding: 2rem 1.5rem; 
            }

            .agent-header img {
                max-width: 100px;
            }
        }

        @media (max-width: 480px) {
            .form-side {
                padding: 1.5rem 1rem;
            }

            .form-header h2 {
                font-size: 1.5rem;
            }

            .btn-submit {
                font-size: 0.95rem;
                padding: 0.875rem;
            }
        }

        /* Loading animation */
        .btn-submit.loading {
            pointer-events: none;
            position: relative;
            color: transparent;
        }

        .btn-submit.loading::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            top: 50%;
            left: 50%;
            margin-left: -10px;
            margin-top: -10px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="background-shapes">
        <div></div><div></div><div></div><div></div><div></div>
        <div></div><div></div><div></div><div></div><div></div>
    </div>

    <div class="login-container">
        <div class="brand-side">
            <div class="brand-logo-container">
                <img src="{{ url_for('static', filename='logo.png') }}" alt="TalentScope AI Logo" onerror="this.style.display='none'">
            </div>
            <div class="brand-text-container">
                <p class="slogan">InteligÃªncia Artificial para Recrutamento</p>
                <p class="subtitle">Encontre os melhores talentos de forma rÃ¡pida e precisa.</p>
            </div>
        </div>

        <div class="form-side">
            <div class="agent-header">
                <img src="{{ url_for('static', filename='agente.png') }}" alt="Agente TalentScope" onerror="this.style.display='none'">
            </div>

            <div class="form-header" style="text-align: center;">
                <h2>Bem-vindo de volta!</h2>
                <p>FaÃ§a o login para acessar seu painel.</p>
            </div>
            
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert-{{ category }}">
                            <i class="fas fa-{% if category == 'danger' %}exclamation-triangle{% elif category == 'success' %}check-circle{% elif category == 'warning' %}exclamation-circle{% else %}info-circle{% endif %}"></i> 
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            <!-- âœ… FORMULÃRIO MELHORADO -->
            <form method="POST" action="{{ url_for('login') }}" id="loginForm">
                <div class="form-group">
                    <!-- ðŸ†• Label mais claro -->
                    <label for="username" class="form-label">
                        <i class="fas fa-user"></i> UsuÃ¡rio ou E-mail
                    </label>
                    <div class="input-icon">
                        <input 
                            type="text" 
                            id="username" 
                            name="username" 
                            class="form-control" 
                            placeholder="Digite seu usuÃ¡rio ou e-mail" 
                            required 
                            autocomplete="username"
                            aria-label="UsuÃ¡rio ou e-mail">
                        <i class="fas fa-user"></i>
                    </div>
                    <small class="text-muted">VocÃª pode usar seu nome de usuÃ¡rio ou e-mail</small>
                </div>

                <div class="form-group">
                    <label for="password" class="form-label">
                        <i class="fas fa-lock"></i> Senha
                    </label>
                    <div class="input-icon">
                        <input 
                            type="password" 
                            id="password" 
                            name="password" 
                            class="form-control" 
                            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" 
                            required 
                            autocomplete="current-password"
                            aria-label="Senha">
                        <i class="fas fa-lock"></i>
                    </div>
                </div>

                <button type="submit" class="btn-submit" id="submitBtn">
                    <i class="fas fa-sign-in-alt"></i> Entrar
                </button>
            </form>

            <div class="form-footer">
                <p>NÃ£o tem uma conta? <a href="{{ url_for('register') }}">Criar conta</a></p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('loginForm');
            const submitBtn = document.getElementById('submitBtn');
            const usernameField = document.getElementById('username');
            
            // Focar no primeiro campo
            if (!usernameField.value) {
                usernameField.focus();
            }

            // Loading animation no submit
            form.addEventListener('submit', function() {
                submitBtn.classList.add('loading');
                submitBtn.disabled = true;
            });

            // Remover loading se houver erro (pÃ¡gina recarregar)
            window.addEventListener('pageshow', function() {
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;
            });
        });

        // Prevenir resubmit
        if (window.history.replaceState) {
            window.history.replaceState(null, null, window.location.href);
        }
    </script>
</body>
</html>